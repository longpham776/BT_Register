{"version":3,"sources":["../../../../assets/Script/assets/Script/RegisterUser.js"],"names":["user","username","password","email","users","cc","Class","extends","Component","properties","default","type","EditBox","layoutRegister","Layout","loadingProgressBar","richText","RichText","laBel","Label","content","Node","items","Prefab","onLoad","addUser","node","active","string","alert","checkEmail","log","push","showUser","loadingRegister","addListView","removeAllChildren","i","length","item","instantiate","parent","y","getChildByName","getComponent","height","resizeFont","slide","deleteListView","validRegex","match","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,OAAO,EAACC,UAAS,EAAV,EAAaC,UAAS,EAAtB,EAAyBC,OAAM,EAA/B,EAAb;AACA,IAAIC,QAAQ,EAAZ;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRR,kBAAU;AACNS,qBAAS,IADH;AAENC,kBAAMN,GAAGO;AAFH,SADF;AAKRV,kBAAU;AACNQ,qBAAS,IADH;AAENC,kBAAMN,GAAGO;AAFH,SALF;AASRT,eAAM;AACFO,qBAAS,IADP;AAEFC,kBAAMN,GAAGO;AAFP,SATE;AAaRC,wBAAgBR,GAAGS,MAbX;AAcRC,4BAAoBV,GAAGS,MAdf;AAeRE,kBAAUX,GAAGY,QAfL;AAgBRC,eAAOb,GAAGc,KAhBF;AAiBRC,iBAASf,GAAGgB,IAjBJ;AAkBRC,eAAOjB,GAAGkB;AAlBF,KAHP;;AAwBL;;AAEAC,UA1BK,oBA0BK,CAET,CA5BI;;AA6BLC,aAAS,mBAAU;AACf,aAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,YAAG,CAAC,KAAK1B,QAAL,CAAc2B,MAAf,IAAyB,CAAC,KAAK1B,QAAL,CAAc0B,MAAxC,IAAkD,CAAC,KAAKzB,KAAL,CAAWyB,MAAjE,EAAyE,OAAOC,MAAM,oCAAN,CAAP,CAAzE,KACK,IAAG,CAAC,KAAK5B,QAAL,CAAc2B,MAAlB,EAA0B,OAAOC,MAAM,6BAAN,CAAP,CAA1B,KACA,IAAG,CAAC,KAAK3B,QAAL,CAAc0B,MAAlB,EAA0B,OAAOC,MAAM,6BAAN,CAAP,CAA1B,KACA,IAAG,CAAC,KAAK1B,KAAL,CAAWyB,MAAf,EAAuB,OAAOC,MAAM,0BAAN,CAAP,CAAvB,KACD;AACA,gBAAG,CAAC,KAAKC,UAAL,EAAJ,EAAuB,OAAOD,MAAM,cAAN,CAAP;AACvBxB,eAAG0B,GAAH,CAAO/B,IAAP;AACAA,iBAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAc2B,MAA9B;AACA5B,iBAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAc0B,MAA9B;AACA5B,iBAAKG,KAAL,GAAa,KAAKA,KAAL,CAAWyB,MAAxB;AACAxB,kBAAM4B,IAAN,CAAWhC,IAAX;AACA;AACA;AACA;AACA,iBAAKiC,QAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,WAAL;AACH;AACJ,KAjDI;AAkDLA,iBAAa,uBAAU;AACnB,aAAKf,OAAL,CAAagB,iBAAb;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEjC,MAAMkC,MAApB,EAA2BD,GAA3B,EAA+B;AAC3B,gBAAIE,OAAOlC,GAAGmC,WAAH,CAAe,KAAKlB,KAApB,CAAX;AACAiB,iBAAKE,MAAL,GAAc,KAAKrB,OAAnB;AACAmB,iBAAKG,CAAL,GAAS,CAAC,EAAD,GAAKL,IAAE,EAAhB;AACAE,iBAAKI,cAAL,CAAoB,MAApB,EAA4BC,YAA5B,CAAyCvC,GAAGc,KAA5C,EAAmDS,MAAnD,GAA4DxB,MAAMiC,CAAN,EAASpC,QAArE;AACA,iBAAKmB,OAAL,CAAayB,MAAb,IAAuB,EAAvB;AACH;AACJ,KA3DI;AA4DLC,gBAAW,oBAASC,KAAT,EAAe,CAEzB,CA9DI;AA+DLC,oBAAgB,0BAAU;AACtB,aAAK5B,OAAL,CAAagB,iBAAb;AACA,aAAKhB,OAAL,CAAayB,MAAb,GAAsB,GAAtB;AACH,KAlEI;AAmELf,gBAAY,sBAAU;AAClB,YAAImB,aAAa,oEAAjB;AACA,YAAG,KAAK9C,KAAL,CAAWyB,MAAX,CAAkBsB,KAAlB,CAAwBD,UAAxB,CAAH,EAAwC,OAAO,IAAP;AACxC,eAAO,KAAP;AACH,KAvEI;AAwELf,mBAxEK,6BAwEY;AACb,aAAKrB,cAAL,CAAoBa,IAApB,CAAyBC,MAAzB,GAAkC,KAAlC;AACA,aAAKX,QAAL,CAAcU,IAAd,CAAmBC,MAAnB,GAA4B,KAA5B;AACA,aAAKT,KAAL,CAAWQ,IAAX,CAAgBC,MAAhB,GAAyB,KAAzB;AACA,aAAKZ,kBAAL,CAAwBW,IAAxB,CAA6BC,MAA7B,GAAsC,IAAtC;AACH,KA7EI;;AA8ELM,cAAU,oBAAU;AAChB5B,WAAG0B,GAAH,CAAO,cAAY,KAAK9B,QAAL,CAAc2B,MAAjC;AACAvB,WAAG0B,GAAH,CAAO,cAAY,KAAK7B,QAAL,CAAc0B,MAAjC;AACAvB,WAAG0B,GAAH,CAAO,WAAS,KAAK5B,KAAL,CAAWyB,MAA3B;AACAvB,WAAG0B,GAAH,CAAO3B,KAAP;AACH,KAnFI;AAoFL+C,SApFK,mBAoFI,CAER;AAtFI;;AAwFL;AAxFJ","file":"RegisterUser.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\nconst user = {username:\"\",password:\"\",email:\"\"};\nvar users = [];\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        username: {\n            default: null,\n            type: cc.EditBox,\n        },\n        password: {\n            default: null,\n            type: cc.EditBox,\n        },\n        email:{\n            default: null,\n            type: cc.EditBox,\n        },\n        layoutRegister: cc.Layout,\n        loadingProgressBar: cc.Layout,\n        richText: cc.RichText,\n        laBel: cc.Label,\n        content: cc.Node,\n        items: cc.Prefab,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        \n    },\n    addUser: function(){\n        this.node.active = true;\n        if(!this.username.string && !this.password.string && !this.email.string) return alert('Please try enter your information!');\n        else if(!this.username.string) return alert('Please enter your username!'); \n        else if(!this.password.string) return alert('Please enter your password!');\n        else if(!this.email.string) return alert('Please enter your email!');\n        else{\n            if(!this.checkEmail()) return alert('Wrong email!');\n            cc.log(user);\n            user.username = this.username.string;\n            user.password = this.password.string;\n            user.email = this.email.string;\n            users.push(user);\n            // for(let i=0;i<this._users.length;i++){\n            //     cc.sys.localStorage.setItem('user'+i, JSON.stringify(this._users[i]));\n            // }\n            this.showUser();\n            this.loadingRegister();\n            this.addListView();\n        }\n    },\n    addListView: function(){\n        this.content.removeAllChildren();\n        for(let i=0;i<users.length;i++){\n            let item = cc.instantiate(this.items);\n            item.parent = this.content;\n            item.y = -30-(i*60);\n            item.getChildByName(\"item\").getComponent(cc.Label).string = users[i].username;\n            this.content.height += 10;\n        }\n    },\n    resizeFont:function(slide){\n        \n    },\n    deleteListView: function(){\n        this.content.removeAllChildren();\n        this.content.height = 220;\n    },\n    checkEmail: function(){\n        var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9]+(?:\\.[a-zA-Z0-9-]+)$/;\n        if(this.email.string.match(validRegex)) return true;\n        return false;\n    },\n    loadingRegister(){\n        this.layoutRegister.node.active = false;\n        this.richText.node.active = false;\n        this.laBel.node.active = false;\n        this.loadingProgressBar.node.active = true;\n    },\n    showUser: function(){\n        cc.log('username:'+this.username.string);\n        cc.log('password:'+this.password.string);\n        cc.log('email:'+this.email.string);\n        cc.log(users);\n    },\n    start () {\n        \n    },\n\n    // update (dt) {},\n});\n"]}